{"version":3,"file":"projects-slider-4b2993c8.js","sources":["../../src/js/helpers/touch-slider.js","../../src/js/projects-slider.js"],"sourcesContent":["export function touchSlider(list, callback, index) {\n  let startX;\n\n  list.addEventListener('touchstart', event => {\n    startX = event.touches[0].clientX;\n  });\n\n  list.addEventListener('touchend', event => {\n    const endX = event.changedTouches[0].clientX;\n    const length = list.children.length;\n    if (endX > startX) {\n      if (endX - startX > 70) {\n        index <= 0 ? (index = length - 1) : index--;\n      }\n    } else if (endX < startX) {\n      if (startX - endX > 70) {\n        index === length - 1 ? (index = 0) : index++;\n      }\n    }\n    callback(index);\n  });\n}\n","import { projects } from '../data/data-projects.js';\nimport { touchSlider } from './helpers/touch-slider.js';\n\nconst projectsList = document.getElementById('p-list');\nconst projectsLeftBtn = document.getElementById('p-left-btn');\nconst projectsRightBtn = document.getElementById('p-right-btn');\nconst projectsTitle = document.getElementById('p__title');\nlet projectsIndex = 0;\n\ntouchSlider(projectsList, activeProjectsSlider, projectsIndex);\n\nconst currentPath = window.location.pathname;\nconst navMap = {\n  '/CreateX-project/index.html':\n    'Browse our selected projects and learn more about our work',\n  '/CreateX-project/service.html': 'Related projects',\n  '/CreateX-project/project.html': 'Similar projects',\n  '/index.html': 'Browse our selected projects and learn more about our work',\n  '/service.html': 'Related projects',\n  '/project.html': 'Similar projects',\n};\n\nprojectsTitle.textContent = navMap[currentPath];\n\nexport const loadProjects = (project, status) => {\n  let list = projects;\n  if (project) {\n    list = projects.filter(\n      e => e.type === project.type && e.name !== project.name\n    );\n  }\n  if (status) {\n    list = projects.filter(e => e.status === status);\n  }\n  if (list.length < 1) {\n    document.querySelector('.projects__title-container').style.display = 'none';\n    document.querySelector('.projects__list-wrapper').style.display = 'none';\n    const projectsSection = document.querySelector('.projects');\n    projectsSection.style.paddingTop = '0';\n    projectsSection.style.backgroundColor = '#f4f5f6';\n  }\n  if (list.length === 1) {\n    projectsLeftBtn.style.display = 'none';\n    projectsRightBtn.style.display = 'none';\n  }\n  const markup = list.reduce(\n    (acc, e) =>\n      acc +\n      `<li class=\"projects__card\">\n        <img\n          class=\"projects__card-img\"\n          src=\"${e.previewImg}\"\n          alt=\"\"\n        />\n        <div class=\"projects__card-box\">\n          <h5 class=\"card-title\">${e.name}</h5>\n          <p class=\"projects__card-text\">${e.type}</p>\n          <a class=\"projects__card-link\" href=\"project.html?project=${e.id}\">view project</a>\n        </div>\n    </li>`,\n    ''\n  );\n  projectsList.innerHTML = markup;\n};\n\nprojectsLeftBtn.addEventListener('click', () => {\n  projectsIndex <= 0\n    ? (projectsIndex = projectsList.children.length - 1)\n    : projectsIndex--;\n  activeProjectsSlider(projectsIndex);\n});\n\nprojectsRightBtn.addEventListener('click', () => {\n  projectsIndex === projectsList.children.length - 1\n    ? (projectsIndex = 0)\n    : projectsIndex++;\n  activeProjectsSlider(projectsIndex);\n});\n\nfunction activeProjectsSlider(index) {\n  if (projectsList.children.length > 1) {\n    const cardWidth =\n      projectsList.children[0].getBoundingClientRect().width + 30;\n    projectsList.style.transform = `translateX(${-index * cardWidth}px)`;\n  }\n}\n"],"names":["touchSlider","list","callback","index","startX","event","endX","length","projectsList","projectsLeftBtn","projectsRightBtn","projectsTitle","projectsIndex","activeProjectsSlider","currentPath","navMap","loadProjects","project","status","projects","e","projectsSection","markup","acc","cardWidth"],"mappings":"gDAAO,SAASA,EAAYC,EAAMC,EAAUC,EAAO,CACjD,IAAIC,EAEJH,EAAK,iBAAiB,aAAcI,GAAS,CAC3CD,EAASC,EAAM,QAAQ,GAAG,OAC9B,CAAG,EAEDJ,EAAK,iBAAiB,WAAYI,GAAS,CACzC,MAAMC,EAAOD,EAAM,eAAe,GAAG,QAC/BE,EAASN,EAAK,SAAS,OACzBK,EAAOF,EACLE,EAAOF,EAAS,KAClBD,GAAS,EAAKA,EAAQI,EAAS,EAAKJ,KAE7BG,EAAOF,GACZA,EAASE,EAAO,KAClBH,IAAUI,EAAS,EAAKJ,EAAQ,EAAKA,KAGzCD,EAASC,CAAK,CAClB,CAAG,CACH,CClBA,MAAMK,EAAe,SAAS,eAAe,QAAQ,EAC/CC,EAAkB,SAAS,eAAe,YAAY,EACtDC,EAAmB,SAAS,eAAe,aAAa,EACxDC,EAAgB,SAAS,eAAe,UAAU,EACxD,IAAIC,EAAgB,EAEpBZ,EAAYQ,EAAcK,EAAsBD,CAAa,EAE7D,MAAME,EAAc,OAAO,SAAS,SAC9BC,EAAS,CACb,8BACE,6DACF,gCAAiC,mBACjC,gCAAiC,mBACjC,cAAe,6DACf,gBAAiB,mBACjB,gBAAiB,kBACnB,EAEAJ,EAAc,YAAcI,EAAOD,GAEvB,MAACE,EAAe,CAACC,EAASC,IAAW,CAC/C,IAAIjB,EAAOkB,EASX,GARIF,IACFhB,EAAOkB,EAAS,OACdC,GAAKA,EAAE,OAASH,EAAQ,MAAQG,EAAE,OAASH,EAAQ,IACzD,GAEMC,IACFjB,EAAOkB,EAAS,OAAOC,GAAKA,EAAE,SAAWF,CAAM,GAE7CjB,EAAK,OAAS,EAAG,CACnB,SAAS,cAAc,4BAA4B,EAAE,MAAM,QAAU,OACrE,SAAS,cAAc,yBAAyB,EAAE,MAAM,QAAU,OAClE,MAAMoB,EAAkB,SAAS,cAAc,WAAW,EAC1DA,EAAgB,MAAM,WAAa,IACnCA,EAAgB,MAAM,gBAAkB,SACzC,CACGpB,EAAK,SAAW,IAClBQ,EAAgB,MAAM,QAAU,OAChCC,EAAiB,MAAM,QAAU,QAEnC,MAAMY,EAASrB,EAAK,OAClB,CAACsB,EAAKH,IACJG,EACA;AAAA;AAAA;AAAA,iBAGWH,EAAE;AAAA;AAAA;AAAA;AAAA,mCAIgBA,EAAE;AAAA,2CACMA,EAAE;AAAA,sEACyBA,EAAE;AAAA;AAAA,WAGpE,EACJ,EACEZ,EAAa,UAAYc,CAC3B,EAEAb,EAAgB,iBAAiB,QAAS,IAAM,CAC9CG,GAAiB,EACZA,EAAgBJ,EAAa,SAAS,OAAS,EAChDI,IACJC,EAAqBD,CAAa,CACpC,CAAC,EAEDF,EAAiB,iBAAiB,QAAS,IAAM,CAC/CE,IAAkBJ,EAAa,SAAS,OAAS,EAC5CI,EAAgB,EACjBA,IACJC,EAAqBD,CAAa,CACpC,CAAC,EAED,SAASC,EAAqBV,EAAO,CACnC,GAAIK,EAAa,SAAS,OAAS,EAAG,CACpC,MAAMgB,EACJhB,EAAa,SAAS,GAAG,sBAAuB,EAAC,MAAQ,GAC3DA,EAAa,MAAM,UAAY,cAAc,CAACL,EAAQqB,MACvD,CACH"}