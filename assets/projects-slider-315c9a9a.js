class j{constructor(t,s,n,h=70){this.list=t,this.callback=s,this.arrLength=n||t.children.length,this.swipeThreshold=h,this.startX=0,this._index=0,this.init()}get index(){return this._index}set index(t){t>=0&&t<this.arrLength&&(this._index=t)}init(){this.list.addEventListener("touchstart",this.onTouchStart.bind(this)),this.list.addEventListener("touchmove",this.onTouchMove.bind(this),{passive:!1}),this.list.addEventListener("touchend",this.onTouchEnd.bind(this))}onTouchStart(t){this.startX=t.touches[0].clientX}onTouchMove(t){Math.abs(t.touches[0].clientX-this.startX)>10&&t.preventDefault()}onTouchEnd(t){const s=t.changedTouches[0].clientX;let n=this.index;s>this.startX&&s-this.startX>this.swipeThreshold?(this.index=n<=0?this.arrLength-1:n-1,this.callback(this._index)):this.startX>s&&this.startX-s>this.swipeThreshold&&(this.index=n===this.arrLength-1?0:n+1,this.callback(this._index))}}const d="https://createx-api.vercel.app";async function f(){try{const e=await fetch(`${d}/projects`);if(!e.ok)throw new Error("Network response was not ok");return await e.json()}catch(e){console.error(e)}}async function x(e){try{const t=await fetch(`${d}/projects/${e}`);if(!t.ok)throw new Error("Network response was not ok");return await t.json()}catch(t){console.error(t)}}const c=document.getElementById("p-list"),p=document.getElementById("p-left-btn"),u=document.getElementById("p-right-btn"),y=document.getElementById("p__title"),a=document.getElementById("p-pag-list"),w="https://res.cloudinary.com/dxseifgey/image/upload/v1723796772";let i=0,m=0;const _=window.location.pathname,v={"/CreateX-project/index.html":"Browse our selected projects and learn more about our work","/CreateX-project/service.html":"Related projects","/CreateX-project/project.html":"Similar projects","/index.html":"Browse our selected projects and learn more about our work","/service.html":"Related projects","/project.html":"Similar projects"};y.textContent=v[_];const b=async(e,t)=>{const s=await f();let n=s;if(e&&(n=s.filter(r=>r.type===e.type&&r.name!==e.name)),t&&(n=s.filter(r=>r.status===t)),n.length<1){document.querySelector(".projects__title-container").style.display="none",document.querySelector(".projects__list-wrapper").style.display="none";const r=document.querySelector(".projects");r.style.paddingTop="0",r.style.backgroundColor="#f4f5f6";return}n.length===1&&(p.style.display="none",u.style.display="none",a.style.display="none");const h=n.reduce((r,o)=>r+`<li class="projects__card">
        <img
          class="projects__card-img"
          src="${w+o.images[0].src}"
          alt="${o.name} img"
        />
        <div class="projects__card-box">
          <h5 class="card-title">${o.name}</h5>
          <p class="projects__card-text">${o.type}</p>
          <a class="projects__card-link" href="project.html?project=${o._id}">view project</a>
        </div>
    </li>`,"");c.innerHTML=h,m=new j(c,l);const g=n.map((r,o)=>`<li><button class="projects__pag-btn ${o===0?"active":""}" type="button" ></button></li>`);a.innerHTML=g.join("")};p.addEventListener("click",()=>{i<=0?i=c.children.length-1:i--,l(i)});u.addEventListener("click",()=>{i===c.children.length-1?i=0:i++,l(i)});a.addEventListener("click",e=>{if(e.target.tagName==="BUTTON"){const s=Array.from(a.children).indexOf(e.target.parentElement);s!==-1&&s!==i&&l(s)}});function l(e){if(i=e,m.index=e,c.children.length>1){const t=c.children[0].getBoundingClientRect().width+30;c.style.transform=`translateX(${-e*t}px)`;const s=a.querySelector(".active");s&&s.classList.remove("active"),a.children[e].firstElementChild.classList.add("active")}}export{j as T,x as c,b as l};
//# sourceMappingURL=projects-slider-315c9a9a.js.map
