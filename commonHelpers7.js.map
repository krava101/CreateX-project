{"version":3,"file":"commonHelpers7.js","sources":["../src/js/pages/project.js"],"sourcesContent":["import { projects } from '../../data/data-projects';\n\nconst section = document.querySelector('.hero');\nconst similarProjList = document.querySelector('.project-list');\nconst similarProjectsTitle = document.querySelector(\n  '.projects-title-container'\n);\nconst similarProjectsInfo = document.querySelector('.projects-info');\n\nconst href = window.location.href;\nconst url = new URL(href);\nconst projectNum = +url.searchParams.get('project');\n\nconst arrowIconUrl = new URL('/img/icons.svg', import.meta.url).href;\n\nfunction loadProject(projectNum) {\n  const currentProject = projects[projectNum];\n  const markup = `<div class=\"container\">\n          <p class=\"page-path\">\n            <span class=\"page-path-dark\">Homepage / Work</span> / ${\n              currentProject.name\n            }\n          </p>\n          <h1 class=\"page-title\">${currentProject.name}</h1>\n          <div class=\"project-img-list-wrapper\">\n            <ul class=\"project-img-list list\">\n              <li\n                style=\"background-image: url(${currentProject.images[0]})\"\n              ></li>\n              <li\n                style=\"background-image: url(${currentProject.images[1]})\"\n              ></li>\n              <li\n                style=\"background-image: url(${currentProject.images[2]})\"\n              ></li>\n              <li\n                style=\"background-image: url(${currentProject.images[3]})\"\n              ></li>\n              <li\n                style=\"background-image: url(${currentProject.images[4]})\"\n              ></li>\n              <li\n                style=\"background-image: url(${currentProject.images[5]})\"\n              ></li>\n            </ul>\n            <button class=\"slider-left-btn\" type=\"button\">\n              <svg class=\"slider-left-icon\">\n                <use href=${arrowIconUrl + '#icon-left-arrow'}></use>\n              </svg>\n            </button>\n            <button class=\"slider-right-btn\" type=\"button\">\n              <svg class=\"slider-right-icon\">\n                <use href=${arrowIconUrl + '#icon-right-arrow'}></use>\n              </svg>\n            </button>\n          </div>\n          <ul class=\"project-small-img-list list\">\n            <li class=\"project-small-img-item active\" style=\"background-image: url(${\n              currentProject.images[0]\n            })\"></li>\n            <li class=\"project-small-img-item\" style=\"background-image: url(${\n              currentProject.images[1]\n            })\"></li>\n            <li class=\"project-small-img-item\" style=\"background-image: url(${\n              currentProject.images[2]\n            })\"></li>\n            <li class=\"project-small-img-item\" style=\"background-image: url(${\n              currentProject.images[3]\n            })\"></li>\n            <li class=\"project-small-img-item\" style=\"background-image: url(${\n              currentProject.images[4]\n            })\"></li>\n            <li class=\"project-small-img-item\" style=\"background-image: url(${\n              currentProject.images[5]\n            })\"></li>\n          </ul>\n          <div class=\"project-info-box\">\n            <div class=\"project-goal\">\n              <h2 class=\"section-title\">Project goal</h2>\n              <p class=\"project-goal-text\">\n                ${currentProject.description}\n              </p>\n            </div>\n            <ul class=\"project-info-list list\">\n              <li>Location</li>\n              <li>${currentProject.location}</li>\n              <li>CLIENT</li>\n              <li>${currentProject.client}</li>\n              <li>ARCHITECT</li>\n              <li>${currentProject.architect}</li>\n              <li>SIZE</li>\n              <li>${currentProject.size}</li>\n              <li>VALUE</li>\n              <li>${currentProject.value}</li>\n              <li>COMPLETED</li>\n              <li>${currentProject.completed}</li>\n            </ul>\n          </div>`;\n  section.innerHTML = markup;\n  loadSimilarProjects(currentProject);\n}\n\nloadProject(projectNum);\n\nfunction loadSimilarProjects(currentProject) {\n  const similarProjects = projects.filter(\n    e => e.type === currentProject.type && e != currentProject\n  );\n  if (similarProjects.length) {\n    const markup = similarProjects.reduce(\n      (acc, e) =>\n        acc +\n        `\n    <li class=\"project-card\">\n      <img\n        class=\"project-img\"\n        src=\"${e.previewImg}\"\n        alt=\"\"\n      />\n      <div class=\"project-card-box\">\n        <h5 class=\"card-title\">${e.name}</h5>\n        <p class=\"project-card-text\">${e.type}</p>\n        <a class=\"project-card-link\" href=\"project.html?project=${e.id}\">view project</a>\n      </div>\n    </li>`,\n      ''\n    );\n    similarProjList.innerHTML = markup;\n  } else {\n    similarProjList.innerHTML = `<li></li>`;\n    similarProjectsTitle.textContent = '';\n    similarProjectsInfo.style.margin = '0';\n  }\n  activeSimilarProj();\n}\n\nconst leftBtn = document.querySelector('.slider-left-btn');\nconst rightBtn = document.querySelector('.slider-right-btn');\nconst gallery = document.querySelector('.project-img-list');\nconst smallGallery = document.querySelector('.project-small-img-list');\nconst projectNavList = document.querySelector('.project-small-img-list');\nlet currentIndex = 0;\n\nleftBtn.addEventListener('click', () => {\n  currentIndex <= 0\n    ? (currentIndex = gallery.children.length - 1)\n    : currentIndex--;\n  galleryScroll(currentIndex);\n});\n\nrightBtn.addEventListener('click', () => {\n  currentIndex === gallery.children.length - 1\n    ? (currentIndex = 0)\n    : currentIndex++;\n  galleryScroll(currentIndex);\n});\n\nfunction galleryScroll(index) {\n  Array.from(smallGallery.children).map(e => e.classList.remove('active'));\n  gallery.style.transform = `translateX(-${currentIndex * 1230}px)`;\n  smallGallery.children[index].classList.add('active');\n}\n\nprojectNavList.addEventListener('click', event => {\n  if (event.target !== event.currentTarget) {\n    currentIndex = Array.from(projectNavList.children).indexOf(event.target);\n    galleryScroll(currentIndex);\n  }\n});\n"],"names":["section","similarProjList","similarProjectsTitle","similarProjectsInfo","href","url","projectNum","arrowIconUrl","loadProject","currentProject","projects","markup","loadSimilarProjects","similarProjects","e","acc","leftBtn","rightBtn","gallery","smallGallery","projectNavList","currentIndex","galleryScroll","index","event"],"mappings":"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"}