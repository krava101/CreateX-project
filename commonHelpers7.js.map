{"version":3,"file":"commonHelpers7.js","sources":["../src/js/load-project.js","../src/js/project-gallery.js"],"sourcesContent":["import { currentProject } from '../api/projects.js';\nimport { loadProjects } from './projects-slider.js';\n\nconst href = window.location.href;\nconst url = new URL(href);\nconst projectId = url.searchParams.get('project');\n\nasync function getProject(id) {\n  try {\n    const project = await currentProject(id);\n    return project;\n  } catch (error) {\n    console.error('Error fetching project data:', error);\n    return null;\n  }\n}\n\nasync function init() {\n  const project = await getProject(projectId);\n\n  if (project) {\n    const imgUrl =\n      'https://res.cloudinary.com/dxseifgey/image/upload/v1723796772';\n    const projectTitle = document.getElementById('project-title');\n    const projectPath = document.getElementById('project-path');\n    const projectGallery = document.getElementById('project-gallery');\n    const projectSmallGallery = document.getElementById(\n      'project-small-gallery'\n    );\n    const projectInfo = document.getElementById('project-info');\n    const projectDescription = document.getElementById('project-description');\n\n    projectTitle.textContent = project.name;\n    projectTitle.classList.remove('project__title_loader');\n    projectPath.textContent = `/ ${project.name}`;\n\n    projectGallery.innerHTML = project.images\n      .map(\n        image => `\n      <li>\n        <img src=\"${imgUrl + image.src}\" alt=\"Project photo\">\n      </li>\n    `\n      )\n      .join('');\n\n    projectSmallGallery.innerHTML = project.images\n      .map(\n        (image, index) => `\n      <li class=\"project__gallery-small-item ${index === 0 ? 'active' : ''}\">\n        <button class=\"project__gallery-small-btn\" type=\"button\">\n          <img src=\"${imgUrl + image.src}\" alt=\"Project small photo pagination\">\n        </button>\n      </li>\n    `\n      )\n      .join('');\n\n    projectInfo.innerHTML = `\n      <li>Location</li>\n      <li>${project.location}</li>\n      <li>CLIENT</li>\n      <li>${project.client}</li>\n      <li>ARCHITECT</li>\n      <li>${project.architect}</li>\n      <li>SIZE</li>\n      <li>${project.size}</li>\n      <li>VALUE</li>\n      <li>${project.value}</li>\n      <li>COMPLETED</li>\n      <li>${project.completed}</li>\n    `;\n\n    projectDescription.textContent = project.description;\n\n    loadProjects(project);\n  } else {\n    console.error('Project data is not available.');\n  }\n}\n\ninit();\n","import TouchSlider from './helpers/touch-slider';\n\nconst projectGallery = document.getElementById('project-gallery');\nconst projectSmallGallery = document.getElementById('project-small-gallery');\nconst leftBtn = document.querySelector('.project__gallery-btn_left');\nconst rightBtn = document.querySelector('.project__gallery-btn_right');\nlet currentIndex = 0;\n\nconst slider = new TouchSlider(projectGallery, galleryScroll, 6);\n\nleftBtn.addEventListener('click', () => {\n  currentIndex <= 0\n    ? (currentIndex = projectGallery.children.length - 1)\n    : currentIndex--;\n  galleryScroll(currentIndex);\n});\n\nrightBtn.addEventListener('click', () => {\n  currentIndex === projectGallery.children.length - 1\n    ? (currentIndex = 0)\n    : currentIndex++;\n  galleryScroll(currentIndex);\n});\n\nprojectSmallGallery.addEventListener('click', event => {\n  const target = event.target;\n  if (target.nodeName === 'BUTTON') {\n    currentIndex = [...projectSmallGallery.children].indexOf(target.parentNode);\n    galleryScroll(currentIndex);\n  }\n});\n\nfunction galleryScroll(index) {\n  currentIndex = index;\n  slider.index = currentIndex;\n  projectSmallGallery.querySelector('.active').classList.remove('active');\n  const imgWidth = projectGallery.children[0].getBoundingClientRect().width;\n  projectGallery.style.transform = `translateX(-${index * imgWidth}px)`;\n  projectSmallGallery.children[index].classList.add('active');\n}\n"],"names":["href","url","projectId","getProject","id","currentProject","error","init","project","imgUrl","projectTitle","projectPath","projectGallery","projectSmallGallery","projectInfo","projectDescription","image","index","loadProjects","leftBtn","rightBtn","currentIndex","slider","TouchSlider","galleryScroll","event","target","imgWidth"],"mappings":"yLAGA,MAAMA,EAAO,OAAO,SAAS,KACvBC,EAAM,IAAI,IAAID,CAAI,EAClBE,EAAYD,EAAI,aAAa,IAAI,SAAS,EAEhD,eAAeE,EAAWC,EAAI,CAC5B,GAAI,CAEF,OADgB,MAAMC,EAAeD,CAAE,CAExC,OAAQE,EAAO,CACd,eAAQ,MAAM,+BAAgCA,CAAK,EAC5C,IACR,CACH,CAEA,eAAeC,GAAO,CACpB,MAAMC,EAAU,MAAML,EAAWD,CAAS,EAE1C,GAAIM,EAAS,CACX,MAAMC,EACJ,gEACIC,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAsB,SAAS,eACnC,uBACN,EACUC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAqB,SAAS,eAAe,qBAAqB,EAExEL,EAAa,YAAcF,EAAQ,KACnCE,EAAa,UAAU,OAAO,uBAAuB,EACrDC,EAAY,YAAc,KAAKH,EAAQ,IAAI,GAE3CI,EAAe,UAAYJ,EAAQ,OAChC,IACCQ,GAAS;AAAA;AAAA,oBAEGP,EAASO,EAAM,GAAG;AAAA;AAAA,KAG/B,EACA,KAAK,EAAE,EAEVH,EAAoB,UAAYL,EAAQ,OACrC,IACC,CAACQ,EAAOC,IAAU;AAAA,+CACqBA,IAAU,EAAI,SAAW,EAAE;AAAA;AAAA,sBAEpDR,EAASO,EAAM,GAAG;AAAA;AAAA;AAAA,KAIjC,EACA,KAAK,EAAE,EAEVF,EAAY,UAAY;AAAA;AAAA,YAEhBN,EAAQ,QAAQ;AAAA;AAAA,YAEhBA,EAAQ,MAAM;AAAA;AAAA,YAEdA,EAAQ,SAAS;AAAA;AAAA,YAEjBA,EAAQ,IAAI;AAAA;AAAA,YAEZA,EAAQ,KAAK;AAAA;AAAA,YAEbA,EAAQ,SAAS;AAAA,MAGzBO,EAAmB,YAAcP,EAAQ,YAEzCU,EAAaV,CAAO,CACxB,MACI,QAAQ,MAAM,gCAAgC,CAElD,CAEAD,EAAM,EC/EN,MAAMK,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAsB,SAAS,eAAe,uBAAuB,EACrEM,EAAU,SAAS,cAAc,4BAA4B,EAC7DC,EAAW,SAAS,cAAc,6BAA6B,EACrE,IAAIC,EAAe,EAEnB,MAAMC,EAAS,IAAIC,EAAYX,EAAgBY,EAAe,CAAC,EAE/DL,EAAQ,iBAAiB,QAAS,IAAM,CACtCE,GAAgB,EACXA,EAAeT,EAAe,SAAS,OAAS,EACjDS,IACJG,EAAcH,CAAY,CAC5B,CAAC,EAEDD,EAAS,iBAAiB,QAAS,IAAM,CACvCC,IAAiBT,EAAe,SAAS,OAAS,EAC7CS,EAAe,EAChBA,IACJG,EAAcH,CAAY,CAC5B,CAAC,EAEDR,EAAoB,iBAAiB,QAASY,GAAS,CACrD,MAAMC,EAASD,EAAM,OACjBC,EAAO,WAAa,WACtBL,EAAe,CAAC,GAAGR,EAAoB,QAAQ,EAAE,QAAQa,EAAO,UAAU,EAC1EF,EAAcH,CAAY,EAE9B,CAAC,EAED,SAASG,EAAcP,EAAO,CAC5BI,EAAeJ,EACfK,EAAO,MAAQD,EACfR,EAAoB,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,EACtE,MAAMc,EAAWf,EAAe,SAAS,CAAC,EAAE,sBAAuB,EAAC,MACpEA,EAAe,MAAM,UAAY,eAAeK,EAAQU,CAAQ,MAChEd,EAAoB,SAASI,CAAK,EAAE,UAAU,IAAI,QAAQ,CAC5D"}