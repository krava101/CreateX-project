{"version":3,"file":"commonHelpers10.js","sources":["../src/js/pages/work.js"],"sourcesContent":["import { getProjects } from '../../api/projects';\n\nconst projList = document.querySelector('.projects-list');\nconst mediaNavList = document.querySelector('.media-list');\nconst loadMoreBtn = document.querySelector('.projects-load-more');\nconst imgUrl = 'https://res.cloudinary.com/dxseifgey/image/upload/v1723796772';\nlet page = 1;\nlet projects = [];\n\ninit();\n\nasync function init() {\n  projects = await getProjects();\n  loadProjects();\n}\n\nconst loadProjects = async (status = 'all', page = 1) => {\n  let projectsList = projects.slice(0, page * 9);\n  loadMoreBtn.style.display = 'flex';\n\n  if (page * 9 >= projects.length) {\n    loadMoreBtn.style.display = 'none';\n  }\n  if (status !== 'all') {\n    projectsList = projects.filter(e => e.status === status);\n    loadMoreBtn.style.display = 'none';\n  }\n\n  const markup = projectsList.reduce(\n    (acc, proj, i) =>\n      acc +\n      `<li class=\"projects-card\">\n        <img\n          class=\"projects-img\"\n          src=\"${imgUrl + proj.images[0].src}\"\n          alt=\"${proj.name}\"\n        />\n        <div class=\"projects-card-box\">\n          <h5 class=\"card-title\">${proj.name}</h5>\n          <p class=\"projects-card-text\">${proj.type}</p>\n          <a class=\"projects-card-link\" href=\"./project.html?project=${\n            proj._id\n          }\"\n            >view project</a\n          >\n        </div>\n      </li>`,\n    ''\n  );\n  projList.innerHTML = markup;\n};\n\nmediaNavList.addEventListener('click', event => {\n  const activeMedia = mediaNavList.querySelector('.active');\n\n  if (activeMedia) {\n    activeMedia.classList.remove('active');\n  }\n  event.target.classList.add('active');\n  loadProjects(event.target.dataset.media);\n});\n\nloadMoreBtn.addEventListener('click', event => {\n  page += 1;\n  loadProjects('all', page);\n  if (page * 9 >= projects.length) {\n    loadMoreBtn.style.display = 'none';\n  }\n});\n"],"names":["projList","mediaNavList","loadMoreBtn","imgUrl","page","projects","init","getProjects","loadProjects","status","projectsList","e","markup","acc","proj","i","event","activeMedia"],"mappings":"+JAEA,MAAMA,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAS,gEACf,IAAIC,EAAO,EACPC,EAAW,CAAA,EAEfC,IAEA,eAAeA,GAAO,CACpBD,EAAW,MAAME,IACjBC,GACF,CAEA,MAAMA,EAAe,MAAOC,EAAS,MAAOL,EAAO,IAAM,CACvD,IAAIM,EAAeL,EAAS,MAAM,EAAGD,EAAO,CAAC,EAC7CF,EAAY,MAAM,QAAU,OAExBE,EAAO,GAAKC,EAAS,SACvBH,EAAY,MAAM,QAAU,QAE1BO,IAAW,QACbC,EAAeL,EAAS,OAAOM,GAAKA,EAAE,SAAWF,CAAM,EACvDP,EAAY,MAAM,QAAU,QAG9B,MAAMU,EAASF,EAAa,OAC1B,CAACG,EAAKC,EAAMC,IACVF,EACA;AAAA;AAAA;AAAA,iBAGWV,EAASW,EAAK,OAAO,CAAC,EAAE,GAAG;AAAA,iBAC3BA,EAAK,IAAI;AAAA;AAAA;AAAA,mCAGSA,EAAK,IAAI;AAAA,0CACFA,EAAK,IAAI;AAAA,uEAEvCA,EAAK,GACN;AAAA;AAAA;AAAA;AAAA,aAKP,EACJ,EACEd,EAAS,UAAYY,CACvB,EAEAX,EAAa,iBAAiB,QAASe,GAAS,CAC9C,MAAMC,EAAchB,EAAa,cAAc,SAAS,EAEpDgB,GACFA,EAAY,UAAU,OAAO,QAAQ,EAEvCD,EAAM,OAAO,UAAU,IAAI,QAAQ,EACnCR,EAAaQ,EAAM,OAAO,QAAQ,KAAK,CACzC,CAAC,EAEDd,EAAY,iBAAiB,QAASc,GAAS,CAC7CZ,GAAQ,EACRI,EAAa,MAAOJ,CAAI,EACpBA,EAAO,GAAKC,EAAS,SACvBH,EAAY,MAAM,QAAU,OAEhC,CAAC"}