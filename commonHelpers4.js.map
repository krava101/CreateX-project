{"version":3,"file":"commonHelpers4.js","sources":["../src/js/pages/news.js"],"sourcesContent":["import news from '../../data/data-news';\n\nconst newsList = document.querySelector('#news-list');\nconst filterList = document.getElementById('news-filter');\n\nconst iconUrl = new URL('/img/icons.svg', import.meta.url).href;\nlet pageIndex = 1;\nlet newsType = 'all';\n\nloadNews(news, newsType);\n\nfunction loadNews(list, type = 'all') {\n  let arr = 0;\n  if (type === 'all') {\n    arr = list;\n  } else {\n    arr = list.filter(e => e.type.toLowerCase() === type.toLowerCase());\n  }\n  const markup = arr.slice((pageIndex - 1) * 6, pageIndex * 6).reduce(\n    (acc, e) =>\n      acc +\n      `\n      <li class=\"news__card\">\n        <div class=\"news__card-img-wrapper\">\n          <img\n            class=\"news__card-img\"\n            src=\"${e.img}\"\n            alt=\"${e.title} image\"\n          />\n        </div>\n        <div class=\"news__card-box\">\n          <a class=\"news__card-title card-title\" href=\"./post.html?post=${\n            e.id\n          }\">${e.title}</a>\n          <ul class=\"news__date-list list\">\n            <li>${e.type}</li>\n            <li>${e.date}</li>\n            <li class=\"news__comments\">\n              <svg class=\"news__comment-icon\">\n                <use href=\"${iconUrl}#icon-comments\"></use>\n              </svg>\n              <p>\n                ${\n                  e.comments.length\n                    ? e.comments.length +\n                      (e.comments.length > 1 ? ' comments' : ' comment')\n                    : 'No comments'\n                }\n              </p>\n            </li>\n          </ul>\n          <p class=\"news__card-text\">\n          ${e.previewText}</p>\n        </div>\n      </li>`,\n    ''\n  );\n  newsList.innerHTML = markup;\n}\n\nfilterList.addEventListener('click', event => {\n  if (event.target.nodeName === 'BUTTON') {\n    const filterBtn = event.target;\n    filterList.querySelector('.active').classList.remove('active');\n    pageIndex = 1;\n    newsType = filterBtn.dataset.filter;\n    loadNews(news, newsType);\n    filterBtn.parentNode.classList.add('active');\n  }\n});\n"],"names":["newsList","filterList","iconUrl","pageIndex","newsType","loadNews","news","list","type","arr","e","markup","acc","event","filterBtn"],"mappings":"0HAEA,MAAMA,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAa,SAAS,eAAe,aAAa,EAElDC,EAAU,IAAA,IAAA,6CAAA,KAAA,QAAA,EAA2C,KAC3D,IAAIC,EAAY,EACZC,EAAW,MAEfC,EAASC,EAAMF,CAAQ,EAEvB,SAASC,EAASE,EAAMC,EAAO,MAAO,CACpC,IAAIC,EAAM,EACND,IAAS,MACXC,EAAMF,EAENE,EAAMF,EAAK,OAAOG,GAAKA,EAAE,KAAK,gBAAkBF,EAAK,YAAW,CAAE,EAEpE,MAAMG,EAASF,EAAI,OAAON,EAAY,GAAK,EAAGA,EAAY,CAAC,EAAE,OAC3D,CAACS,EAAK,IACJA,EACA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKa,EAAE;AAAA,mBACF,EAAE;AAAA;AAAA;AAAA;AAAA,0EAKT,EAAE,OACC,EAAE;AAAA;AAAA,kBAEC,EAAE;AAAA,kBACF,EAAE;AAAA;AAAA;AAAA,6BAGSV;AAAA;AAAA;AAAA,kBAIX,EAAE,SAAS,OACP,EAAE,SAAS,QACV,EAAE,SAAS,OAAS,EAAI,YAAc,YACvC;AAAA;AAAA;AAAA;AAAA;AAAA,YAMV,EAAE;AAAA;AAAA,aAGV,EACJ,EACEF,EAAS,UAAYW,CACvB,CAEAV,EAAW,iBAAiB,QAASY,GAAS,CAC5C,GAAIA,EAAM,OAAO,WAAa,SAAU,CACtC,MAAMC,EAAYD,EAAM,OACxBZ,EAAW,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,EAC7DE,EAAY,EACZC,EAAWU,EAAU,QAAQ,OAC7BT,EAASC,EAAMF,CAAQ,EACvBU,EAAU,WAAW,UAAU,IAAI,QAAQ,CAC5C,CACH,CAAC"}